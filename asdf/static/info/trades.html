<div class="trades">
  <table class="table table-striped table-hover">
    <thead>
      <tr>
        <th>
          <div ng-click="sortType = 'id'; sortReverse = !sortReverse">
            <span>Id</span>
            <span ng-show="sortType === 'id' && !sortReverse" class="fa fa-caret-down"></span>
            <span ng-show="sortType === 'id' && sortReverse" class="fa fa-caret-up"></span>
          </div>
        </th>
        <th>
          <div ng-click="sortType = 'company'; sortReverse = !sortReverse">
            <span>Company</span>
            <span ng-show="sortType === 'company' && !sortReverse" class="fa fa-caret-down"></span>
            <span ng-show="sortType === 'company' && sortReverse" class="fa fa-caret-up"></span>
          </div>
        </th>
        <th>
          <div ng-click="sortType = 'price'; sortReverse = !sortReverse">
            <span>Price</span>
            <span ng-show="sortType === 'price' && !sortReverse" class="fa fa-caret-down"></span>
            <span ng-show="sortType === 'price' && sortReverse" class="fa fa-caret-up"></span>
          </div>
        </th>
        <th>
          <div ng-click="sortType = 'quantity'; sortReverse = !sortReverse">
            <span>Quantity</span>
            <span ng-show="sortType === 'quantity' && !sortReverse" class="fa fa-caret-down"></span>
            <span ng-show="sortType === 'quantity' && sortReverse" class="fa fa-caret-up"></span>
          </div>
        </th>
        <th>
          <div ng-click="sortType = 'total'; sortReverse = !sortReverse">
            <span>Total</span>
            <span ng-show="sortType === 'total' && !sortReverse" class="fa fa-caret-down"></span>
            <span ng-show="sortType === 'total' && sortReverse" class="fa fa-caret-up"></span>
          </div>
        </th>
        <th>
          <div ng-click="sortType = 'date'; sortReverse = !sortReverse">
            <span>Date</span>
            <span ng-show="sortType === 'date' && !sortReverse" class="fa fa-caret-down"></span>
            <span ng-show="sortType === 'date' && sortReverse" class="fa fa-caret-up"></span>
          </div>
        </th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <form name="stockForm" class="stock-form">
          <th scope="row"></th>
          <td><input type="text" name="stock.company" ng-model="stock.company" /></td>
          <td><input type="text" name="stock.price" ng-model="stock.price" ng-change="updateTotalStockPrice()" /></td>
          <td><input type="number" name="stock.quantity" ng-model="stock.quantity" ng-change="updateTotalStockPrice()" ng-keyup="onPress($event)" /></td>
          <td>{{ stock.total | currency }}</td>
          <td>{{ stock.date | date }}</td>
          <td class="btn btn-default" ng-click="buy()">Buy</td>
        </form>
      </tr>
      <tr class="error-messages">
        <td class="error" ng-show="error.shown" colspan="5">{{ error.message }}</td>
      </tr>
      <tr ng-repeat="trade in trades | orderBy:sortType:sortReverse">
        <td>{{ trade.id }}</td>
        <td>{{ trade.company }}</td>
        <td>{{ trade.price | currency }}</td>
        <td>{{ trade.quantity }}</td>
        <td>{{ trade.total | currency }}</td>
        <td>{{ trade.created_at | date }}</td>
      </tr>
    </tbody>
  </table>
</div>
